<!doctype html >
<html lang="en" ng-app="europrices">
	<head>
		<meta charset="UTF-8"> 
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.18/angular.min.js"></script>
 		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.18/angular-resource.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.18/angular-route.min.js"></script>		
		<script src="/js/europrices.js"></script>		
		<link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
		<link href="/css/style.css" rel="stylesheet" type="text/css" >
	</head>
	<body>
		
		<div ng-view>
		
			<div ng-controller="SearchController">
		
				<div id="logo" >
					<div>europrices</div>
					<div>spot the best mobile prices in the eurozone</div>
				</div>
				
				<div id="search-box">
					<div id="search">
						<form>
							<input type="search" placeholder="samsung, galaxy..."  ng-model="searchTerms" />
							<button id="search-clear" ng-click="onClearSearch()">clear</button>
							<button id="search-launch" ng-click="onSearch()">search</button>
						</form>
					</div>
				</div>


				<div id="results">
									
					<div id="placeholder" ng-if="showSearchPlaceholder">
						{{searchPlaceholder}}
					</div>
					
					<div id="resultLang" ng-if="showSearchResult">
						<select ng-model="destinationLanguage" ng-options="language.name for language in languages">
							<option value="">original language</option>									
						</select> 
						{{destinationLanguage}}
					</div>
				
					<div id="resultTable" ng-if="showSearchResult">
						<table>
							<thead>
								<tr>
									<th>Item</th>
									<th>Shop</th>
									<th>Price</th>
									<th>Details</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="item in foundProductItems">
									<td>
										{{item.name}}
									</td>
									<td>
										{{item.shop.name}}
									</td>
									<td>
										{{item.priceInEuroCent/100 | currency:"â‚¬"}}
									</td>
									<td>
										<div ng-if="destinationLanguage!=null && item.languageIsoCode != destinationLanguage.iso" style="display: inline;">
											<a target="_blank" href="http://translate.google.com/translate?js=n&sl=auto&tl={{destinationLanguage.iso}}&u={{item.detailsUrl}}">details</a>({{destinationLanguage.iso}})									
										</div>
										<div ng-if="!(destinationLanguage!=null && item.languageIsoCode != destinationLanguage.iso)" style="display: inline;">
											<a target="_blank" href="{{item.detailsUrl}}">details</a>
										</div>	
										{{destinationLanguage}}
									</td>
								</tr>
							</tbody>
							<tfoot>
								<tr>
									<th colspan="4">&nbsp;</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
			
		</div>
		
		
		
		<footer>
			Brought to you by <a target="_blank" href="http://www.danidemi.com">Studio Danidemi</a>
		</footer>
		
	</body>
</html>